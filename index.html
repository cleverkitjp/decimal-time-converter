<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>6.3時間は何時間何分？｜小数時間↔時間・分 変換ツール</title>
  <meta name="description" content="6.3時間は何時間何分？小数時間（6.3・6.25など）を時間・分に即変換。逆に時間・分から小数時間にも対応。スマホ対応・登録不要の無料ツール。" />

  <meta property="og:title" content="6.3時間は何時間何分？｜小数時間↔時間・分 変換ツール" />
  <meta property="og:description" content="小数時間と時間・分をワンタップ切替で即変換。丸め設定と結果コピーに対応。" />
  <meta property="og:type" content="website" />

  <!-- Google Analytics GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-F6517NYNFF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-F6517NYNFF');
  </script>

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9727255179923866"
       crossorigin="anonymous"></script>

  <!-- common.css -->
  <link rel="stylesheet" href="https://cleverkitjp.github.io/common.css">

  <style>
    /* common.css を前提に最小限だけ補助 */
    .ck-wrap{max-width:920px;margin:0 auto;padding:16px}
    .ck-title{margin:6px 0 6px;font-size:1.5rem;line-height:1.25}
    .ck-lead{margin:0 0 16px;color:var(--muted,#6b7a8a);font-size:.98rem;line-height:1.55}
    .ck-card{
      background:linear-gradient(180deg, #f8fafc 0%, #eef2f7 100%);
      border:1px solid var(--line,#d7dfea);
      border-radius:24px;
      padding:18px;
      box-shadow:0 18px 30px rgba(15,23,42,.15);
    }
    .ck-card h2{margin:0 0 10px;font-size:1.05rem;color:#0f172a}
    .ck-toggle{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:10px 0 14px}
    .ck-toggle input{display:none}
    .ck-toggle label{
      border:1px solid #cbd5e1;
      background:#fff;
      border-radius:12px;
      padding:12px 12px;
      font-weight:800;
      text-align:center;
      font-size:.98rem;
      cursor:pointer;
      box-shadow:inset 0 -2px 0 rgba(15,23,42,.08);
    }
    .ck-toggle input:checked + label{border-color:#1f66c1;background:#e3efff;box-shadow:inset 0 -2px 0 rgba(31,102,193,.2)}
    .ck-row{display:flex;gap:12px;align-items:flex-end;flex-wrap:wrap}
    .ck-field{flex:1;min-width:0}
    .ck-field label{display:block;font-size:.85rem;color:var(--muted,#6b7a8a);margin:0 0 6px}
    .ck-field input, .ck-field select{
      width:100%;
      padding:14px 14px;
      border:1px solid #cbd5e1;
      border-radius:14px;
      font-size:1.05rem;
      background:#fff;
      box-sizing:border-box;
    }
    .ck-input-big{
      font-size:1.35rem;
      height:56px;
      font-weight:800;
      letter-spacing:.3px;
    }
    .ck-field input:focus, .ck-field select:focus{outline:3px solid rgba(31,102,193,.25);outline-offset:2px}
    .ck-result{
      margin-top:12px;
      padding:16px;
      border-radius:20px;
      background:#0f172a;
      color:#fff;
      border:1px solid rgba(15,23,42,.7);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.05);
    }
    .ck-result .big{font-size:1.75rem;font-weight:900;letter-spacing:.4px}
    .ck-result .unit{font-size:1.1rem;font-weight:700;margin-left:4px}
    .ck-result .small{margin-top:6px;color:rgba(226,232,240,.85);font-size:.9rem}
    .ck-actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
    .ck-btn{
      appearance:none;border:0;border-radius:14px;
      padding:10px 14px;font-weight:800;
      background:var(--blue,#1f66c1);color:#fff;
      box-shadow:var(--shadow-press,0 4px 10px rgba(20,40,80,.18));
    }
    .ck-btn:disabled{opacity:.45}
    .ck-btn.secondary{background:#1e293b}
    .ck-err{margin-top:8px;color:#b42318;font-weight:700;font-size:.92rem}
    .ck-keypad{margin-top:16px}
    .ck-keypad-title{font-weight:800;margin:0 0 8px;font-size:.95rem;color:var(--muted,#6b7a8a)}
    .ck-keypad-grid{
      display:grid;
      grid-template-columns:repeat(4, minmax(64px, 1fr));
      gap:10px;
      grid-template-areas:
        "seven eight nine back"
        "four five six clear"
        "one two three swap"
        "zero zero dot enter";
    }
    .ck-key{
      border:1px solid #cbd5e1;
      background:#fff;
      border-radius:14px;
      padding:14px 8px;
      font-weight:900;
      font-size:1.1rem;
      box-shadow:inset 0 -2px 0 rgba(15,23,42,.08);
      cursor:pointer;
    }
    .ck-key.action{background:#1e293b;color:#fff;border-color:#1e293b}
    .ck-key.wide{grid-column:span 2}
    .ck-key[data-key="7"]{grid-area:seven}
    .ck-key[data-key="8"]{grid-area:eight}
    .ck-key[data-key="9"]{grid-area:nine}
    .ck-key[data-key="back"]{grid-area:back}
    .ck-key[data-key="4"]{grid-area:four}
    .ck-key[data-key="5"]{grid-area:five}
    .ck-key[data-key="6"]{grid-area:six}
    .ck-key[data-key="clear"]{grid-area:clear}
    .ck-key[data-key="1"]{grid-area:one}
    .ck-key[data-key="2"]{grid-area:two}
    .ck-key[data-key="3"]{grid-area:three}
    .ck-key[data-key="swap"]{grid-area:swap}
    .ck-key[data-key="0"]{grid-area:zero}
    .ck-key[data-key="."]{grid-area:dot}
    .ck-key[data-key="enter"]{grid-area:enter}
    details.ck-details{margin-top:16px}
    details.ck-details > summary{
      cursor:pointer;
      font-weight:800;
      list-style:none;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--line,#e8edf3);
      background:#fff;
    }
    details.ck-details[open] > summary{background:rgba(255,138,0,.08);border-color:rgba(255,138,0,.35)}
    details.ck-details .inner{margin-top:10px;padding:12px;border-radius:16px;border:1px solid var(--line,#e8edf3);background:#fff}
    .ck-seg{display:flex;gap:8px;flex-wrap:wrap}
    .ck-seg input{display:none}
    .ck-seg label{
      border:1px solid #cbd5e1;
      background:#fff;border-radius:10px;
      padding:8px 12px;font-weight:800;font-size:.95rem;
      box-shadow:inset 0 -2px 0 rgba(15,23,42,.08);
    }
    .ck-seg input:checked + label{border-color:#1f66c1;background:#e3efff}
    .ck-note{margin-top:12px;color:var(--muted,#6b7a8a);font-size:.92rem;line-height:1.45}
    .ck-toast{
      position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
      background:#111827;color:#fff;
      padding:10px 12px;border-radius:999px;
      font-weight:800;opacity:0;pointer-events:none;
      transition:opacity .18s ease;
      max-width:92vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .ck-toast.show{opacity:.95}
    @media (max-width:720px){
      .ck-toggle{grid-template-columns:1fr}
      .ck-row{flex-direction:column;align-items:stretch}
      .ck-field{width:100%}
      .ck-keypad-grid{
        grid-template-columns:repeat(3, minmax(56px, 1fr));
        gap:8px;
        grid-template-areas:
          "seven eight nine"
          "four five six"
          "one two three"
          "zero dot enter"
          "back clear swap";
      }
      .ck-key{padding:12px 6px;font-size:1rem}
      .ck-key.wide{grid-column:auto}
    }
  </style>
</head>

<body>
  <main class="ck-wrap">
    <h1 class="ck-title">6.3時間は何時間何分？</h1>
    <p class="ck-lead">
      6.3時間は何時間何分かをすぐ確認できる小数時間の変換ツールです。時間・分から小数時間への変換や何分換算にも対応し、無料・スマホ対応で使えます。
    </p>

    <div class="ck-toggle" role="tablist" aria-label="変換方向">
      <input type="radio" name="mode" id="modeA" value="a" checked>
      <label for="modeA" role="tab" aria-controls="panelA">小数 → 時分</label>
      <input type="radio" name="mode" id="modeB" value="b">
      <label for="modeB" role="tab" aria-controls="panelB">時分 → 小数</label>
    </div>

    <section class="ck-card">
      <div id="panelA" role="tabpanel" aria-labelledby="modeA">
        <h2>小数時間 → 時間・分</h2>
        <div class="ck-row">
          <div class="ck-field">
            <label for="decHours">小数時間（例：6.3）</label>
            <input id="decHours" class="ck-input-big" inputmode="none" placeholder="例：6.3" autocomplete="off" />
          </div>

          <div class="ck-field" style="min-width:220px;">
            <label for="roundDecToMin">小数→分 の丸め</label>
            <select id="roundDecToMin">
              <option value="floor">切り捨て</option>
              <option value="round" selected>四捨五入</option>
              <option value="ceil">切り上げ</option>
            </select>
          </div>
        </div>

        <div class="ck-result" id="aResultBox" role="status" aria-live="polite">
          <div class="big" id="aBig">—</div>
          <div class="small" id="aSmall">入力してください</div>
        </div>
        <div class="ck-err" id="aErr" hidden></div>

        <div class="ck-actions">
          <button class="ck-btn" id="aCopy" disabled>コピー</button>
          <button class="ck-btn secondary" id="aClear">クリア</button>
        </div>

      </div>

      <div id="panelB" role="tabpanel" aria-labelledby="modeB" hidden>
        <h2>時間・分 → 小数時間</h2>
        <div class="ck-row">
          <div class="ck-field" style="min-width:140px;flex:0 0 140px;">
            <label for="hInt">時間（整数）</label>
            <input id="hInt" class="ck-input-big" inputmode="none" placeholder="例：6" autocomplete="off" />
          </div>
          <div class="ck-field" style="min-width:140px;flex:0 0 140px;">
            <label for="mInt">分（0–59）</label>
            <input id="mInt" class="ck-input-big" inputmode="none" placeholder="例：18" autocomplete="off" />
          </div>

          <div class="ck-field" style="min-width:260px;">
            <label>小数表示</label>
            <div class="ck-seg" role="radiogroup" aria-label="小数表示の桁数">
              <input type="radio" name="decFmt" id="fmt2" value="2" checked>
              <label for="fmt2">2桁</label>

              <input type="radio" name="decFmt" id="fmt3" value="3">
              <label for="fmt3">3桁</label>

              <input type="radio" name="decFmt" id="fmtRaw" value="raw">
              <label for="fmtRaw">自動</label>
            </div>
          </div>
        </div>

        <div class="ck-result" id="bResultBox" role="status" aria-live="polite">
          <div class="big" id="bBig">—</div>
          <div class="small" id="bSmall">入力してください</div>
        </div>
        <div class="ck-err" id="bErr" hidden></div>

        <div class="ck-actions">
          <button class="ck-btn" id="bCopy" disabled>コピー</button>
          <button class="ck-btn secondary" id="bClear">クリア</button>
        </div>
      </div>

      <div class="ck-keypad" aria-label="数字入力パッド">
        <div class="ck-keypad-title">数字入力</div>
        <div class="ck-keypad-grid">
          <button class="ck-key" data-key="7">7</button>
          <button class="ck-key" data-key="8">8</button>
          <button class="ck-key" data-key="9">9</button>
          <button class="ck-key action" data-key="back">⌫</button>
          <button class="ck-key" data-key="4">4</button>
          <button class="ck-key" data-key="5">5</button>
          <button class="ck-key" data-key="6">6</button>
          <button class="ck-key action" data-key="clear">AC</button>
          <button class="ck-key" data-key="1">1</button>
          <button class="ck-key" data-key="2">2</button>
          <button class="ck-key" data-key="3">3</button>
          <button class="ck-key action" data-key="swap">↔</button>
          <button class="ck-key wide" data-key="0">0</button>
          <button class="ck-key" data-key=".">.</button>
          <button class="ck-key action" data-key="enter">入力</button>
        </div>
      </div>
    </section>

    <details class="ck-details">
      <summary>表示・丸め（必要な人だけ）</summary>
      <div class="inner">
        <div class="ck-note" style="margin-top:0">
          小数→分は上の「小数→分 の丸め」を使用します。<br>
          分→小数は「小数表示」の 2桁/3桁/自動 を使用します（自動は最大6桁で末尾0を省略）。
        </div>
        <div class="ck-note">
          <b>60分繰り上げ</b>：小数→分の結果が60分になった場合、時間を+1して0分にします。
        </div>
        <div class="ck-row" style="margin-top:10px">
          <div class="ck-field" style="min-width:240px;">
            <label for="allowComma">6,3 のようなカンマ小数</label>
            <select id="allowComma">
              <option value="yes" selected>許可（6,3 → 6.3）</option>
              <option value="no">許可しない</option>
            </select>
          </div>
          <div class="ck-field" style="min-width:240px;">
            <label for="denyExp">指数表記（1e2 など）</label>
            <select id="denyExp">
              <option value="yes" selected>無効にする（推奨）</option>
              <option value="no">許可する</option>
            </select>
          </div>
        </div>
      </div>
    </details>

  </main>

  <div class="ck-toast" id="toast">コピーしました</div>

  <div id="ck-footer-container"></div>

  <script>
    (function() {
      var container = document.getElementById('ck-footer-container');
      if (!container) return;

      fetch('https://cleverkitjp.github.io/footer.html')
        .then(function(response) { return response.text(); })
        .then(function(html) {
          container.innerHTML = html;

          try {
            (adsbygoogle = window.adsbygoogle || []).push({});
          } catch (e) {
            console.warn('adsbygoogle error', e);
          }
        })
        .catch(function(e) {
          console.warn('footer load error', e);
        });
    })();
  </script>

  <script>
    // ===== Utilities =====
    function $(id){ return document.getElementById(id); }

    function showToast(msg){
      var t = $('toast');
      t.textContent = msg || 'コピーしました';
      t.classList.add('show');
      window.clearTimeout(showToast._tm);
      showToast._tm = window.setTimeout(function(){ t.classList.remove('show'); }, 1100);
    }

    function copyText(text){
      if (!text) return Promise.reject(new Error('empty'));
      if (navigator.clipboard && navigator.clipboard.writeText){
        return navigator.clipboard.writeText(text);
      }
      // Fallback
      return new Promise(function(resolve, reject){
        try{
          var ta = document.createElement('textarea');
          ta.value = text;
          ta.setAttribute('readonly', '');
          ta.style.position='fixed';
          ta.style.left='-9999px';
          document.body.appendChild(ta);
          ta.select();
          var ok = document.execCommand('copy');
          document.body.removeChild(ta);
          ok ? resolve() : reject(new Error('copy failed'));
        }catch(e){ reject(e); }
      });
    }

    function isIntegerString(s){
      return /^[0-9]+$/.test(s);
    }

    function normalizeDecimalInput(raw, allowComma){
      if (raw == null) return '';
      var s = String(raw).trim();
      if (!s) return '';
      if (allowComma === 'yes') s = s.replace(',', '.');
      return s;
    }

    function denyExponentIfNeeded(s, denyExp){
      if (denyExp === 'yes' && /e/i.test(s)) return true;
      return false;
    }

    function roundByMode(x, mode){
      if (mode === 'floor') return Math.floor(x);
      if (mode === 'ceil') return Math.ceil(x);
      return Math.round(x); // default: round
    }

    function trimZeros(numStr){
      // "6.500000" -> "6.5", "6.000" -> "6"
      if (!numStr.includes('.')) return numStr;
      numStr = numStr.replace(/0+$/,'').replace(/\.$/,'');
      return numStr;
    }

    function formatRawDecimal(x){
      // up to 6 decimals, then trim zeros
      var s = x.toFixed(6);
      return trimZeros(s);
    }
  </script>

  <script>
    // ===== Elements =====
    var decHours = $('decHours');
    var roundDecToMin = $('roundDecToMin');
    var aBig = $('aBig');
    var aSmall = $('aSmall');
    var aErr = $('aErr');
    var aCopy = $('aCopy');
    var aClear = $('aClear');

    var hInt = $('hInt');
    var mInt = $('mInt');
    var bBig = $('bBig');
    var bSmall = $('bSmall');
    var bErr = $('bErr');
    var bCopy = $('bCopy');
    var bClear = $('bClear');

    var allowComma = $('allowComma');
    var denyExp = $('denyExp');

    var panelA = $('panelA');
    var panelB = $('panelB');

    var lastAResult = '';
    var lastBResult = '';

    function setError(el, msg){
      if (msg){
        el.hidden = false;
        el.textContent = msg;
      }else{
        el.hidden = true;
        el.textContent = '';
      }
    }

    function setMode(mode){
      var isA = mode === 'a';
      panelA.hidden = !isA;
      panelB.hidden = isA;
      if (isA){
        decHours.focus();
      } else {
        hInt.focus();
      }
    }

    // ===== A: decimal hours -> h m =====
    function computeA(){
      var allow = allowComma.value;
      var deny = denyExp.value;

      var raw = normalizeDecimalInput(decHours.value, allow);
      if (!raw){
        aBig.textContent = '—';
        aSmall.textContent = '入力してください';
        setError(aErr, '');
        aCopy.disabled = true;
        lastAResult = '';
        return;
      }

      if (denyExponentIfNeeded(raw, deny)){
        aBig.textContent = '—';
        aSmall.textContent = '指数表記は無効です';
        setError(aErr, '指数表記（1e2 など）は無効です。通常の数値（例：6.3）で入力してください。');
        aCopy.disabled = true;
        lastAResult = '';
        return;
      }

      var x = Number(raw);
      if (!Number.isFinite(x)){
        aBig.textContent = '—';
        aSmall.textContent = '数値として解釈できません';
        setError(aErr, '小数時間を数値で入力してください（例：6.3）。');
        aCopy.disabled = true;
        lastAResult = '';
        return;
      }
      if (x < 0){
        aBig.textContent = '—';
        aSmall.textContent = '負の数は不可';
        setError(aErr, '負の小数時間は入力できません。');
        aCopy.disabled = true;
        lastAResult = '';
        return;
      }

      var hours = Math.floor(x);
      var frac = x - hours;

      // floating error mitigation
      var rawMinutes = frac * 60;
      rawMinutes = Math.round(rawMinutes * 1e9) / 1e9;

      var mode = roundDecToMin.value;
      var minutes = roundByMode(rawMinutes, mode);

      // 60-min carry
      if (minutes === 60){
        hours += 1;
        minutes = 0;
      }

      var out = hours + '時間' + minutes + '分';
      lastAResult = out;

      aBig.textContent = out;
      aSmall.textContent = hours + 'h + ' + trimZeros(String(frac)) + 'h × 60 = ' + rawMinutes + 'min';
      setError(aErr, '');
      aCopy.disabled = false;
    }

    // ===== B: h m -> decimal hours =====
    function computeB(){
      var hs = String(hInt.value || '').trim();
      var ms = String(mInt.value || '').trim();

      if (!hs && !ms){
        bBig.textContent = '—';
        bSmall.textContent = '入力してください';
        setError(bErr, '');
        bCopy.disabled = true;
        lastBResult = '';
        return;
      }

      if (!hs || !ms){
        bBig.textContent = '—';
        bSmall.textContent = '時間と分を入力';
        setError(bErr, '時間（整数）と分（0〜59）を両方入力してください。');
        bCopy.disabled = true;
        lastBResult = '';
        return;
      }

      if (!isIntegerString(hs)){
        bBig.textContent = '—';
        bSmall.textContent = '時間は整数';
        setError(bErr, '時間は0以上の整数で入力してください。');
        bCopy.disabled = true;
        lastBResult = '';
        return;
      }
      if (!isIntegerString(ms)){
        bBig.textContent = '—';
        bSmall.textContent = '分は整数';
        setError(bErr, '分は0〜59の整数で入力してください。');
        bCopy.disabled = true;
        lastBResult = '';
        return;
      }

      var h = parseInt(hs, 10);
      var m = parseInt(ms, 10);

      if (h < 0){
        bBig.textContent = '—';
        bSmall.textContent = '負の数は不可';
        setError(bErr, '負の時間は入力できません。');
        bCopy.disabled = true;
        lastBResult = '';
        return;
      }
      if (m < 0 || m > 59){
        bBig.textContent = '—';
        bSmall.textContent = '分は0〜59';
        setError(bErr, '分は0〜59の範囲で入力してください（60は不可）。');
        bCopy.disabled = true;
        lastBResult = '';
        return;
      }

      var x = h + (m / 60);

      var fmt = document.querySelector('input[name="decFmt"]:checked')?.value || '2';
      var outNum;
      if (fmt === '3'){
        outNum = x.toFixed(3);
      }else if (fmt === 'raw'){
        outNum = formatRawDecimal(x);
      }else{
        outNum = x.toFixed(2);
      }

      var out = outNum + '時間';
      lastBResult = out;

      bBig.textContent = outNum + ' 時間';
      bSmall.textContent = h + 'h + ' + m + 'min ÷ 60 = ' + x;
      setError(bErr, '');
      bCopy.disabled = false;
    }

    // ===== Events =====
    document.querySelectorAll('input[name="mode"]').forEach(function(radio){
      radio.addEventListener('change', function(){
        setMode(radio.value);
      });
    });

    decHours.addEventListener('input', computeA);
    roundDecToMin.addEventListener('change', computeA);
    allowComma.addEventListener('change', computeA);
    denyExp.addEventListener('change', computeA);

    hInt.addEventListener('input', computeB);
    mInt.addEventListener('input', computeB);
    document.querySelectorAll('input[name="decFmt"]').forEach(function(r){
      r.addEventListener('change', computeB);
    });

    aCopy.addEventListener('click', function(){
      copyText(lastAResult).then(function(){ showToast('コピーしました'); })
        .catch(function(){ showToast('コピーに失敗しました'); });
    });
    bCopy.addEventListener('click', function(){
      copyText(lastBResult).then(function(){ showToast('コピーしました'); })
        .catch(function(){ showToast('コピーに失敗しました'); });
    });

    aClear.addEventListener('click', function(){
      decHours.value = '';
      computeA();
      decHours.focus();
    });
    bClear.addEventListener('click', function(){
      hInt.value = '';
      mInt.value = '';
      computeB();
      hInt.focus();
    });

    function getActiveInput(){
      var active = document.activeElement;
      if (active === decHours || active === hInt || active === mInt){
        return active;
      }
      if (!panelA.hidden){
        return decHours;
      }
      return hInt;
    }

    function applyKey(input, key){
      if (key === 'swap'){
        var nextMode = panelA.hidden ? 'a' : 'b';
        document.getElementById('mode' + nextMode.toUpperCase()).checked = true;
        setMode(nextMode);
        return;
      }
      if (key === 'clear'){
        input.value = '';
      }else if (key === 'back'){
        input.value = input.value.slice(0, -1);
      }else if (key === 'enter'){
        input.blur();
      }else{
        input.value = input.value + key;
      }
      if (input === decHours){
        computeA();
      }else{
        computeB();
      }
      input.focus();
    }

    document.querySelectorAll('.ck-keypad [data-key]').forEach(function(btn){
      btn.addEventListener('click', function(){
        var key = btn.getAttribute('data-key');
        var input = getActiveInput();
        applyKey(input, key);
      });
    });

    // Initial
    computeA();
    computeB();
    setMode('a');
  </script>

</body>
</html>
